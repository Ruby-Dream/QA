# 一面题目测试思路
## 输入框搜索
### 场景
玩家在搜索框输入UID搜索玩家并尝试添加好友

---
### 分析
一般情况下在线游戏玩家的UID在同一个服务器中是唯一且不可变的，位数可能由于注册时间不同有些许差异，但一定都是纯数字，不含任何大小写字母、任何语言的文字、任何符号、空格、制表符等，也不会有负数出现(除非该用户有特殊意义，比如官方内测用户，官方客服等，一般不考虑此方面)，一般UID都是从1开始编号，因此通常情况不存在UID为0的用户。

输入一个**格式正确**的UID理论上只会出现两种结果：

1. 在下方显示此UID对应的用户
2. 不显示任何结果，或者提示无法搜索到该UID的玩家

值得注意的是结果2，部分玩家由于游玩习惯会在设置内关闭"使用UID可搜索到我"的功能，在这种情况下，即使该UID的玩家存在，也无法搜索到该玩家，并且搜索方并不会被告知这种情况。  

对于结果1，搜索到指定玩家后，可以点击按钮添加好友，对于发送好友申请需要有一定限制，比如向一个玩家连续发送100次好友申请，则接收方不应该收到100个好友请求，而只显示最近的一条，对于包含附加消息的请求，也应当显示最近一条的附加消息；或者游戏设置机制，发送好友邀请后24小时内不可再次发送等，具体视游戏设置而定。

---
### 测试用例
首先基于搜索UID玩家的功能设计测试用例(假设只能通过UID搜索，不能使用昵称、手机号码等搜索)  
>假设**有且仅有**两个玩家A和B  
>A的UID为123，隐私设置为默认设置-**可通过UID搜索**  
>B的UID为456，隐私设置为**不可通过UID搜索**  

|用例编号|测试目的|测试步骤|预期结果|
|:-----|:------|:------|:------|
|1|输入框焦点-手机端|在手机端点击输入框|出现闪烁光标，屏幕下方弹出系统数字键盘|
|2|输入框焦点-电脑端|在电脑端点击输入框|出现闪烁光标|
|3|输入框焦点-主机端|在主机端点击输入框|游戏暂停，主机数字键盘完全覆盖屏幕 |
|4|搜索-正确UID-可被搜索|在输入框中输入`123`，点击搜索按钮|出现玩家A的相关信息，附有"添加好友"字样的按钮|
|5|搜索-正确UID-不可被搜索|在输入框中输入`456`，点击搜索按钮|显示"未查找到玩家"|
|6|搜索-不正确UID-玩家不存在|在输入框中输入`999`，点击搜索按钮|显示"未查找到玩家"|
|7|搜索-不正确UID-非法字符|在输入框中输入`123!@#$%^&*`/`一二三`/`yiersan`，点击搜索按钮|显示"输入UID无效"|
|8|搜索-不正确UID-0|在输入框中输入`0`，点击搜索按钮|显示"输入UID无效"|

后假设已经搜索到玩家A，基于向A发送好友请求设计测试用例：
|用例编号|测试目的|测试步骤|预期结果|
|:-----|:------|:------|:-----|
|1|添加好友-第一次|未发送过好友请求时，点击添加好友按钮|显示"发送请求成功"|
|2|添加好友-重复添加|24小时内发送过好友请求，点击添加好友按钮|显示"请求过于频繁，请24小时后再次发送"|
|3|添加好友-已经是好友|已经和玩家A为好友的情况下，点击添加好友按钮|显示"你们已经是好友啦"|
|4|接收好友请求-单次|玩家A被其他人发送了一次好友请求|消息显示该条好友请求消息|
|5|接受好友请求-多次|玩家A被其他人发送了多次好友请求|消息显示最近的一次好友请求信息|

## 游戏商城购买
### 场景
玩家在游戏商城中购买某道具，道具需消耗`n`个游戏代币，玩家正好拥 有`n`个同种代币，却下单失败，分析可能原因

---
### 分析
由于已知条件较少，可从多方面分析  
首先考虑游戏内部设计，游戏设计为玩家等级未到达可购买等级，于是不允许玩家购买；玩家可能背包中已经含有若干个该道具，达到容量上限，无法购买更多；商城具有限购条件，达到购买次数上限，不允许购买更多；  
然后考虑游戏客户端和服务端的同步问题，游戏的数据以服务器端为唯一标准，客户端数据同步可能存在不及时，因此假设玩家在浏览商城时发生了某个事件，扣除了一定的代币，但玩家并不知道或者代币数据未及时更新，玩家以为代币仍然充足，于是购买失败；
另外考虑网络因素，若玩家在弱网环境游玩，如封闭的电梯间，地下室，地下车库等，或者玩家在购买的过程中发生了网络断连或网络切换，导致本次购买动作无法正常执行或结束，都会导致购买失败；  
也可考虑服务端问题，假如活动过于火爆，数百万玩家同时在商城中进行购买，那么可能由于高并发导致操作超时，反馈玩家购买失败；或者由于商城的购买接口调用失败，无法进行购买操作；

---
### 处理思路
无论对于哪种失败因素，都要给予玩家一定的反馈，如使用文字告知用户本次购买失败的原因，或者冷却一段时间后再次引导玩家尝试购买；对于非游戏设计的失败场景，测试部门应积极收集反馈，尝试复现并反馈给相关部门进行优化，从而保障游戏体验。
