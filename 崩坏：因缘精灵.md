# 崩坏：因缘精灵
崩坏：因缘精灵是一款剧情冒险+精灵养成+自走棋的游戏，游戏中可以和各种精灵建立因缘，和其他角色通过**因缘对决**的自走棋玩法进行比赛  
> 由于游戏一测资格名额有限，所有分析设计均源于Bilibili平台的游戏视频，且均基于PC平台  

[测试用例分析设计-自走棋场地](#测试用例分析设计-自走棋场地)  
[测试用例设计分析-对话](#测试用例设计分析-对话)  
[测试用例分析设计-奶丁汪技能](#测试用例分析设计-奶丁汪技能)  
## 测试用例分析设计-自走棋场地
自走棋棋盘战场为7*8的矩形，每个格子为正六边形，玩家视角的横向为7格，竖向为8格，在准备阶段靠近玩家的4行格子可用于放置我方精灵，下文简称为“**可用格子**”，其他为“**不可用格子**”
<img src="pics\棋盘.png" alt="棋盘">
以下对于对决准备阶段编写测试用例  
设某场对决时可以上场的精灵数量上限为`n`
|用例编号|测试点|测试步骤|预期结果|
|-------|------|-------|--------|
|1|准备阶段|进入对决场地|场地上出现敌我双方的精灵、元象和强化标志物，我方精灵、元理和强化标志物为上一次上场配置，下方备战栏显示所有可用精灵，已在场上的精灵左上角有对勾标志|
|2|查看精灵信息|点击备战栏或场上指定精灵|在屏幕右侧弹出该精灵信息窗口|
|3|精灵上场-选择位置|长按指定精灵拖动到场上|拖动位置出现精灵半透明动画效果，所有可用位置出现蓝色边缘，距离最近的可用格子变为高亮黄色，其射程半径的格子变为淡黄色|
|4|精灵上场-可用位置-无精灵-未到上限|场上我方精灵数量≤`n`时，在可用的无我方精灵格子上放置精灵|该精灵由半透明变为不透明，出现在指定格子，所有格子特效消失，备战栏对应精灵左上角出现对勾标志，场上数量数字大小+1|
|5|精灵上场-可用位置-无精灵-到达上限|场上我方精灵数量=`n`时，在可用的无我方精灵格子上放置精灵|出现提示“**场上精灵数量已到达上限**”，精灵上场操作取消|
|6|精灵上场-可用位置-有精灵|在可用的有我方精灵格子上放置精灵|原精灵消失，新精灵由半透明变为不透明，出现在指定格子，所有格子特效消失，备战栏原精灵左上角对勾标志消失，新精灵左上角出现对勾标志|
|7|精灵上场-不可用位置|在不可用的格子上放置精灵|出现提示“**非我方位置，放置无效**”，精灵上场操作取消|
|8|精灵上场-非格子位置|在非格子区域放置精灵|精灵上场操作取消|
|9|精灵移动-选择|长按场上指定我方精灵并移动|出现精灵半透明动画效果，所有可用位置出现蓝色边缘，距离最近的可用格子变为高亮黄色，其射程半径的格子变为淡黄色|
|10|精灵移动-可用位置-无精灵|移动并放置到可用的无我方精灵格子上|该精灵由半透明变为不透明，出现在指定格子，所有格子特效消失|
|11|精灵移动-可用位置-有精灵|移动并放置到可用的有我方精灵格子上|原精灵和新精灵**位置互换**，所有格子特效消失|
|12|精灵移动-不可用位置|移动并放置到不可用的格子上|精灵回到原位置，所有格子特效消失，出现提示“**非我方位置，放置无效**”|
|13|精灵移动-非格子位置|移动并放置到非格子区域|精灵弹回原位置|
|14|精灵下场|长按场上指定我方精灵，移动到下方备战栏|精灵从场上消失，备战栏精灵左上角对勾标志消失，场上数量数字大小-1|

## 测试用例设计分析-对话
在第一次进入游戏时可以自定义主角的魅力、智力和威力这三个特质，可以将最多10个点数自由分配给三个特质，当某个特质的数值达到条件时，可以选择特殊对话选项  
<img src="pics\对话.png" alt="对话">
以下基于对话选项选择过程设计测试用例
|编号|测试点|测试步骤|预期结果|
|----|-----|--------|-------|
|1|对话选项显示-简略-满足条件|简略模式下到达对话选项点，且一个或多个特质点数满足条件|右侧出现通用选项和当前满足条件的所有选项，其中特殊选项不显示特质点数要求|
|2|对话选项显示-简略-不满足条件|简略模式下到达对话选项点，且无任何特质点数满足条件|右侧出现通用选项，不出现任何特殊对话选项|
|3|对话选项显示-详细-满足条件|详细模式下到达对话选项点，且一个或多个特质点数满足条件|右侧出现所有选项，不满足条件的选项为灰色半透明，其中特殊选项均显示特质点数要求|
|4|对话选项显示-详细-不满足条件|详细模式下到达对话选项点，且无任何特质点数满足条件|右侧出现所有选项，除了通用选项以外的所有特殊选项都为灰色半透明，其中特殊选项均显示特质点数要求|
|5|简略切换到详细|在简略模式的选择选项界面点击右上角按钮|显示所有通用选项和全部特殊选项，其中特殊选项均显示特质点数要求|
|6|详细切换到简略|在详细模式的选择选项界面点击右上角按钮|隐藏不满足条件的特殊选项，已满足条件的选项隐藏其特质点数条件|
|7|选项选择-满足条件/通用|点击可用的选项|跳转到对应对话|
|8|选项选择-不满足条件|在详细模式下点击不可用的选项|选项图标播放动画，出现提示“**魅力\威力\智力不满足对话条件**”|

## 测试用例分析设计-奶丁汪技能
奶丁汪是游戏内第一只结缘的精灵，其技能——食指大动有一个主动技和一个被动技，主动技将在对战过程中随能量上升至完全充满时触发，可重复触发；被动技在满足指定条件时触发，每场战斗只能最多触发一次，随后不再触发  
> 主动：
快乐地吃点心！进食完毕后，获得`450%*魔法攻击力`护盾，持续8秒，并在护盾存在期间提高40点护甲与魔抗  

>被动：
每次战斗触发1次：受到致命伤害时，奶丁汪的生命值至多降至1，并在此后的2秒内治疗自身`50%*最大生命值`生命值

<img src="pics\奶丁汪技能.png" alt="奶丁汪技能">

以下针对奶丁汪主动技和被动技在战斗过程中的使用设计测试用例
> 由于部分数据未知，用例内数值可能有出入

假设基础属性为图中所示
|最大生命值|最大法力值|物理攻击力|魔法攻击力|物理抗性|魔法抗性|攻速|攻击距离|暴击率|暴击伤害|
|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
|343|90|13|17|22|22|0.85|1格|20%|130%|

|编号|测试点|测试步骤|预期结果|
|----|------|-------|-------|
|1|法力值上升|奶丁汪进行一次普通攻击|奶丁汪法力值上升15%|
|2|主动技使用|奶丁汪法力值上升至全满|生成`17*450%=77`点护盾，播放生成护盾动画，立刻提高`40`点物理抗性和`40`点魔法抗性，法力值清零|
|3|护盾吸收伤害-小|奶丁汪存在护盾时受到**非真实伤害**，且伤害计算后小于当前护盾值|护盾值扣减对应数值|
|4|护盾吸收伤害-大|奶丁汪存在护盾时受到**非真实伤害**，且伤害计算后大于当前护盾值|护盾消失，立刻降低`40`点物理抗性和`40`点魔法抗性，超出护盾值的伤害施加于生命值进行扣减|
|5|护盾吸收伤害-真实|奶丁汪存在护盾时受到**真实伤害**|伤害不经过物理抗性或魔法抗性计算，无视护盾，直接施加于生命值进行扣减|
|6|护盾超时|奶丁汪的护盾存在时间达到8秒且剩余护盾值大于0|护盾消失，立刻降低`40`点物理抗性和`40`点魔法抗性|
|7|被动技触发|奶丁汪受到计算后大于当前生命的伤害，且被动技在本局还未发动过|当前生命值变为`1`点，播放动画，在接下来每秒恢复`343*25%=86`点生命值，持续2秒，共恢复`343*50%=172`点生命值|
|8|被动技再次触发|奶丁汪受到计算后大于当前生命的伤害，且被动技在本局已发动过|奶丁汪生命值归零，被击倒下场|
