# 塞尔达传说·王国之泪
这里记录和《塞尔达传说·王国之泪》(以下简称"王泪")相关的游戏内容  
[机制-通天术](#机制-通天术)  
[实体-光亮花](#实体-光亮花)
## 机制-通天术
通天术是王泪中林克主动能力之一，其功能为让立刻穿过头上的天花板并从地面~~或者任何东西甚至液体的平面~~上钻出  
实际上通天术对于不同环境有着不同情况的判定，见下图关于通天术的部分专利  
<img src="pics\通天术-1.jpg" alt="通天术" width=50%><img src="pics\通天术-2.png" alt="通天术" width=50%>  

通天术对于林克正上方的天花板有一定要求，只有当天花板和水平面夹角小于指定范围才可激活，角度过大则不满足条件；
上方的天花板需要是一个完整的平面，如果平面高度差过大则不满足激活条件；
对于钻出点，必须是一个可以立足的平面，否则同样不能激活  
天花板高度不能过高，否则无法激活通天术；  
满足条件时光圈为蓝色，不满足条件时光圈为红色  ；
在穿过天花板模型的过程中，若第三人称的摄像机镜头在模型外，则有实时渲染动画；若镜头在模型中，则显示统一过场动画

对此，可以针对通天术进行功能测试

---
| 用例编号 | 测试点 | 测试方法 | 预期结果 |
| :------ | :------ | :------ | :------ |
1|测试天花板角度的可用性-标准|向与水平面夹角**小于30°**的顶面使用通天术| 显示**蓝色**光圈，出现交互信息|
2|测试天花板角度的可用性-角度过大|向与水平面夹角**大于30°**的顶面使用通天术| 显示**红色**光圈，不出现交互信息|
3|测试高度适用性-标准|对高度**小于5个身高单位**的顶面使用通天术|显示蓝色光圈，出现交互信息|
4|测试高度适用性-过高|对高度**大于5个身高单位**的顶面或天空使用通天术|**不显示**蓝色或红色光圈|
5|测试天花板完整性|对不完整的顶面使用通天术|显示**红色**光圈，且只显示高度满足的部分特效|
6|测试钻出点适用性-平面|对预计为可立足点的固体平面的顶面使用通天术|显示**蓝色**光圈，出现交互信息；<br>钻出后站立在该平面|
7|测试钻出点适用性-水体|对预计为**可游泳深度的水体**使用通天术|显示**蓝色**光圈，出现交互信息；<br>钻出后变为**游泳状态**|
8|测试钻出点适用性-岩浆|对预计为**岩浆**的钻出点使用通天术|显示**蓝色**光圈，出现交互信息；<br>钻出后播放掉入岩浆动画，随后复苏在使用通天术前的位置|
9|测试钻出点适用性-不可立足点|对预计为不可立足点(斜面/NPC模型处)使用通天术|显示**红色**光圈，不出现交互信息|
10|测试蓝色光圈交互动作|显示**蓝色**光圈时按下A|播放角色动作，播放音效，角色跳起到天花板，钻入顶面<br>经过数秒后钻出，显示交互信息|
11|测试红色光圈交互动作|显示**红色**光圈时按下A|播放角色动作，无法使用通天术|
12|测试钻出交互-钻出|等待钻出时按下A|角色钻出地面，播放音效|
13|测试钻出交互-返回|等待钻出时按下B|角色钻入下方，经过数秒后回到使用通天术前的位置，播放音效|
14|测试钻出交互-超时|等待钻出时超过**20**秒玩家未按下A或B|执行第12条用例预期结果|
15|激活通天术-正常|按下L键，右摇杆旋转到通天术扇区|进入通天术准备阶段，播放音效，播放动画，镜头转到竖直向上|
16|取消通天术-正常|在准备阶段按下B键|退出通天术准备阶段，镜头转到激活前角度|
17|取消通天术-滑落|在准备阶段站立在角度**大于45°**的斜面|退出通天术准备阶段，镜头转到激活前角度，播放角色滑落动画|
18|取消通天术-坠落|在准备阶段掉下高度**大于1个身高单位**的距离|退出通天术准备阶段，镜头转到激活前角度，播放角色坠落动画|
19|取消通天术-受伤|在准备阶段收到任何单位的伤害|退出通天术准备阶段，镜头转到激活前角度，播放角色受伤动画|
20|取消通天术-生命归零|在准备阶段受到致命伤害使生命值为0|退出通天术准备阶段，播放对应Game Over动画|

## 实体-光亮花
光亮花是王泪中的一个道具，其种子自然生长在地面的洞穴中，玩家可以控制角色采集种子存入背包，或者使用武器/弓箭等冲击种子使其开放，开放后会发出光芒照亮周围区域
以下为光亮花激活方面的相关专利
<img src="pics\光亮花-2.png" alt="通天术" width=50%><img src="pics\光亮花-1.png" alt="通天术" width=50%>  
仅针对光亮花的激活，设计以下测试用例  
|编号|测试点|测试步骤|预期结果|
|:-----|:-----|:-----|:-----|
|1|投掷种子|角色按住R键，选择种子，向平面投出|在种子碰撞到平面时消失，在其位置生成一个开放的光亮花|
|2|单个种子-武器|角色使用任何武器打击单个种子|种子消失，在原位置生成一个开放的光亮花|
|3|单个种子-射箭|角色射出无附加种子的箭打击单个种子|箭和种子碰撞时箭停止飞行并掉落，种子消失，在原位置生成一个开放的光亮花|
|4|单个种子-附着箭|角色将种子绑在发射单只箭的弓上并射出|箭和平面碰撞时箭停止飞行并掉落，在碰撞位置生成一个开放的光亮花，种子不掉落|
|5|多个种子-附着箭|角色将种子绑在发射多只箭的弓上并射出|每只箭单独执行用例3预期结果，但箭均不掉落|
|6|多个种子-武器|角色使用任何武器一次性打击多个种子|所有被打击的种子消失，仅在第一个被打击的种子位置生成一个开放的光亮花|
|7|种子-附着森林武器|将种子附着在森林系武器上，向平面进行冲击/打击|在冲击位置生成一个开放的光亮花，武器附着种子不消失|
|8|种子-其他武器|将种子附着在非森林系武器上，向平面进行冲击/打击|在冲击位置生成一个开放的光亮花，武器附着种子消失|
|9|种子-附着武器投掷|向平面投掷任何附着有种子的武器|不生成光亮花，种子保留|
|10|岩浆碰撞|任何脱手的种子碰触到岩浆面时|种子消失，不生成光亮花|
|11|水体碰撞|任何脱手的种子碰触到水体时|种子掉落，漂浮在水面上，变为可拾取状态，不生成光亮花|
