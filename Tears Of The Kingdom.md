# 塞尔达传说·王国之泪
这里记录和《塞尔达传说·王国之泪》(以下简称"王泪")相关的游戏内容
## 通天术
通天术是王泪中林克主动能力之一，其功能为让立刻穿过头上的天花板并从地面~~或者任何东西甚至液体的平面~~上钻出  
实际上通天术有着不同情况的判定，见下图关于通天术的部分专利  

<img src="pics\通天术-1.jpg" alt="通天术" width=50%><img src="pics\通天术-2.png" alt="通天术" width=50%>  

在任天堂的专利中说明，通天术对于林克正上方的天花板有一定要求，只有当天花板和水平面夹角小于指定范围才可激活，角度过大则不满足条件；同时指出上方的天花板你需要是一个完整的平面，如果平面高度差过大同样不满足激活条件；同样对于钻出点，也必须是一个可以立足的平面，否则同样不能激活  
天花板高度不能过高，否则无法激活通天术  
满足条件时光圈为蓝色，不满足条件时光圈为红色  
同时指出，若在穿过天花板模型的过程中，若第三人称的摄像机镜头在模型外，则有实时渲染动画若镜头在模型中，则显示统一过场动画

对此，可以针对通天术进行功能测试
| 用例编号 | 测试目的 | 测试方法 | 预期结果 |
| :------ | :------ | :------ | :------ |
1|测试天花板角度的可用性-标准|向与水平面夹角小于30°的顶面使用通天术| 显示蓝色光圈，出现交互信息|
2|测试天花板角度的可用性-角度过大|向与水平面夹角大于30°的顶面使用通天术| 显示红色光圈，不出现交互信息|
3|测试高度适用性-标准|对高度小于5个身高单位的顶面使用通天术|显示蓝色光圈，出现交互信息|
4|测试高度适用性-过高|对高度大于5个身高单位的顶面或天空使用通天术|不显示蓝色或红色光圈|
5|测试天花板完整性|对不完整的顶面使用通天术|显示红色光圈，且只显示高度满足的部分特效|
6|测试钻出点适用性-平面|对预计为可立足点的固体平面的顶面使用通天术|显示蓝色光圈，出现交互信息；<br>钻出后站立在该平面|
7|测试钻出点适用性-水体|对预计为可游泳深度的水体使用通天术|显示蓝色光圈，出现交互信息；<br>钻出后变为游泳状态|
8|测试钻出点适用性-岩浆|对预计为岩浆的钻出点使用通天术|显示蓝色光圈，出现交互信息；<br>钻出后播放掉入岩浆动画，随后复苏在使用通天术前的位置|
9|测试钻出点适用性-不可立足点|对预计为不可立足点(斜面/NPC模型处)使用通天术|显示红色光圈，不出现交互信息|
10|测试蓝色光圈交互动作|显示蓝色光圈时按下A|播放角色动作，播放音效，角色跳起到天花板，钻入顶面<br>经过数秒后钻出，显示交互信息|
11|测试红色光圈交互动作|显示红色光圈时按下A|播放角色动作，无法使用通天术|
12|测试钻出交互-钻出|等待钻出时按下A|角色钻出地面，播放音效|
13|测试钻出交互-返回|等待钻出时按下B|角色钻入下方，经过数秒后回到使用通天术前的位置，播放音效|
14|测试钻出交互-超时|等待钻出时超过20秒玩家未按下A或B|执行第12条用例|